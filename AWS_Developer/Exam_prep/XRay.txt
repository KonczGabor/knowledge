AWS X-Ray helps developers analyze and debug production, distributed applications, such as those built using a microservices architecture. 
With X-Ray, you can understand how your application and its underlying services are performing to identify and troubleshoot the root cause of performance issues and errors. 
X-Ray provides an end-to-end view of requests as they travel through your application, and shows a map of your application’s underlying components.

You can use X-Ray to collect data across AWS Accounts. The X-Ray agent can assume a role to publish data into an account different from the one in which it is running. 
This enables you to publish data from various components of your application into a central account.



Debugging in production
Visual analysis of our application

 /* Old way:
 	Test Locally
 	Add log statements everywhere
 	Re-deploy in production
 	
 	(Log formats can differ)
 */	

Tracing: Follow the path of a request

How to enable:

	Az EventBridge SDK ezeket tudja elkapni (IAM rights needed to be able to write into X-RAY):
		Calls to AWS services
		HTTP(S) requests
		DB calls
		Queue calls (SQS)

	Install X-Ray daemon or enable X-Ray AWS integration
		Daemon in this case: a low level (UDP -Port: 2000) packet interceptor
		Minden 1 másodperc elteltével küld egy batch-et az X-Raynek API-nak.
		
		
	Lambda-ba már nekünk be van építve.
	
	Minél több adatot küldünk be X-Ray be, annál többet fizetünk.
	

X-Ray sampling

	By customizing sampling rules, you can control the amount of data that you record, and modify sampling behavior on the fly without modifying or redeploying your code. 
	Sampling rules tell the X-Ray SDK how many requests to record for a set of criteria. 
	X-Ray SDK applies a sampling algorithm to determine which requests get traced however because our application is failing to send data to X-Ray it does not help in determining the cause of failure.
































