Content Delivery Network.
Minél közelebb kihelyezni a client-hez, csökkentve a Latency-t.
Annyi van, ahány Edge Location.

AZ EL-ek és az AWS resourceok (S3 pl) a kapcsolat Priwate AWS

	• Az Origin az Eredeti forrás, amit kitolunk az Edgekre (Los Angeles, Mumbai, ..)
	
	
	• CloudFront vs S3 Cross Region Replication 
		
		Cloud Front:
			‣ Global Edge newtork
			‣ Van a fileoknak egy TTL-ük.
			‣ Első sorban statikus tartalmakra jó
			
		S3 Cross Region Replication:
			‣ Nekünk kell felállítani minden egyes Regiót
			‣ Gyakorlatilag valós idejü update
			‣ Read only!
			‣ Első sorban dinamikus tartalmak azonnali frissítésére szolgál pár Regióban.
			
				
				
	• Cache Key:
		A unique identifier for every object in the cache
			By default, consists of hostname + resource portion of the URL
			
			You can add other elements (HTTP headers, cookies, query strings) to the Cache Key using CloudFront Cache Policies
	
			Alapból nem kerülnek forwardolásra, de whitelist-re lehet őket tenni. Vagy vica-versa (include-all: except) => worst performance
				‣ Header-ök, 
				‣ Querry stringek
				‣ Cookiek
			
			Viszont hozzáadhatunk saját(custom) és gyári(CloudFront HTTP) headeröket


	• Cache Invalidation:
		Attól mert még az Origin-t updateljük, az Endpointok nem fognak tudni róla, míg le nem járnak a cachben a TTL-ek.
		
		Viszont manuálisan is ki lehet kényszeríteni:
			‣ Részleges: special path (/images/*)
			‣ Teljes	
	
	
	• CloudFront Signed URL / Signed Cookies
	
		‣ Signed URL = access to individual files (one signed URL per file)
		‣ Signed Cookies = access to multiple files (one signed cookie for many files)
		
		Attach Policy:
			‣ Includes URL expiration
			‣ Includes IP ranges to access the data from
			‣ Trusted signers (which AWS accounts can create signed URLs)
	
	
	• CloudFront Signed URL vs S3 Pre-Signed URL
	
		CloudFront Signed URL:
			‣ Allow access to a path, no matter the origin
			‣ Account wide key-pair, only the root can manage it
			‣ Can filter by IP, path, date, expiration
			‣ Can leverage caching features
	
	
		S3 Pre-Signed URL:
			‣ Issue a request as the person who pre-signed the URL
			‣ Uses the IAM key of the signing principal
			‣ Limited lifetime
	
	
	•  CloudFront Signed URL Process
		Two types of signers:
			‣ Trusted key group (recommended)
				Can leverage APIs to create and rotate keys (and IAM for API security)
			‣ AWS Account that contains a CloudFront Key Pair
					- Need to manage keys using the root account and the AWS console
					- Not recommended because you shouldn’t use the root account for this
			

	• You generate your own public / private key
		‣ The private key is used by your applications (e.g. EC2) to sign URLs
		‣ The public key (uploaded) is used by CloudFront to verify URLs
		
	
	• A regiókat lehet szűkíteni cost effectiveness szempontjából
		‣ All (legdrágább)
		‣ 200
		‣ 100 (leogolcsóbb)
	
	
	• Content type alapján különböző Originekhez tudunk irányítani (Multiple Origin)
		CloudFronthoz beesik a hívás és megnézi az url-t:
			Ha /api/*  => megy az ALB-hez a backendért
			Ha /*      => megy az S3-hoz a frontendért  
	
	
	• Field Level Encryption:
		Már az Edge Location-re kiteszünk public key-eket, amik sensitive információkat (feiledeket) eltitkosítanak, és csak backenden fordítjuk vissza a private key-jel.
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
